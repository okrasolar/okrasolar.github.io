<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cicada: Cicada::ICommDevice Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Cicada
   </div>
   <div id="projectbrief">IoT Communications Module</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Cicada</b></li><li class="navelem"><a class="el" href="classCicada_1_1ICommDevice.html">ICommDevice</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCicada_1_1ICommDevice-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Cicada::ICommDevice Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="icommdevice_8h_source.html">icommdevice.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Cicada::ICommDevice:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCicada_1_1ICommDevice.png" usemap="#Cicada::ICommDevice_map" alt=""/>
  <map id="Cicada::ICommDevice_map" name="Cicada::ICommDevice_map">
<area href="classCicada_1_1IBufferedSerial.html" alt="Cicada::IBufferedSerial" shape="rect" coords="283,56,462,80"/>
<area href="classCicada_1_1IStatefulDevice.html" alt="Cicada::IStatefulDevice" shape="rect" coords="756,56,935,80"/>
<area href="classCicada_1_1BufferedSerial.html" alt="Cicada::BufferedSerial" shape="rect" coords="283,112,462,136"/>
<area href="classCicada_1_1IIPCommDevice.html" alt="Cicada::IIPCommDevice" shape="rect" coords="756,112,935,136"/>
<area href="classCicada_1_1BufferedSerialTask.html" alt="Cicada::BufferedSerialTask" shape="rect" coords="0,168,179,192"/>
<area href="classCicada_1_1MbedSerial.html" alt="Cicada::MbedSerial" shape="rect" coords="189,168,368,192"/>
<area href="classCicada_1_1NoplatformSerial.html" alt="Cicada::NoplatformSerial" shape="rect" coords="378,168,557,192"/>
<area href="classCicada_1_1Stm32Uart.html" alt="Cicada::Stm32Uart" shape="rect" coords="567,168,746,192"/>
<area href="classCicada_1_1IPCommDevice.html" alt="Cicada::IPCommDevice" shape="rect" coords="756,168,935,192"/>
<area href="classCicada_1_1UnixSerial.html" alt="Cicada::UnixSerial" shape="rect" coords="0,224,179,248"/>
<area href="classCicada_1_1ATCommDevice.html" alt="Cicada::ATCommDevice" shape="rect" coords="756,224,935,248"/>
<area href="classCicada_1_1EspressifDevice.html" alt="Cicada::EspressifDevice" shape="rect" coords="661,280,840,304"/>
<area href="classCicada_1_1SimCommDevice.html" alt="Cicada::SimCommDevice" shape="rect" coords="850,280,1029,304"/>
<area href="classCicada_1_1Sim7x00CommDevice.html" alt="Cicada::Sim7x00CommDevice" shape="rect" coords="756,336,935,360"/>
<area href="classCicada_1_1Sim800CommDevice.html" alt="Cicada::Sim800CommDevice" shape="rect" coords="945,336,1124,360"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa5606617edc3c258ad1a8439fea8115a"><td class="memItemLeft" align="right" valign="top">virtual Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCicada_1_1ICommDevice.html#aa5606617edc3c258ad1a8439fea8115a">bytesAvailable</a> () const =0</td></tr>
<tr class="separator:aa5606617edc3c258ad1a8439fea8115a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32e9c62d2561e1c87183bbcf4ee67c3"><td class="memItemLeft" align="right" valign="top">virtual Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCicada_1_1ICommDevice.html#ae32e9c62d2561e1c87183bbcf4ee67c3">spaceAvailable</a> () const =0</td></tr>
<tr class="separator:ae32e9c62d2561e1c87183bbcf4ee67c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a808757140f407c1214e510ff86230290"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCicada_1_1ICommDevice.html#a808757140f407c1214e510ff86230290">writeBufferProcessed</a> () const =0</td></tr>
<tr class="separator:a808757140f407c1214e510ff86230290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bb98a0576b9defed76306a5d4bb043"><td class="memItemLeft" align="right" valign="top">virtual Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCicada_1_1ICommDevice.html#a50bb98a0576b9defed76306a5d4bb043">read</a> (uint8_t *data, Size maxSize)=0</td></tr>
<tr class="separator:a50bb98a0576b9defed76306a5d4bb043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc211ed649d7eb0c6787f89722fdcd6"><td class="memItemLeft" align="right" valign="top">virtual Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCicada_1_1ICommDevice.html#aebc211ed649d7eb0c6787f89722fdcd6">write</a> (const uint8_t *data, Size size)=0</td></tr>
<tr class="separator:aebc211ed649d7eb0c6787f89722fdcd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Base Interface for communication devices, like UARTs, 4G/GSM cellular modems or WiFi modules. Drivers for these devices must implement this interface. All methods in this class have to be <b>non-blocking</b>. The actual processing and communication with the hardware is done in the driver's run() method, which will be called in regular intervals by the <a class="el" href="classCicada_1_1Scheduler.html">Scheduler</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa5606617edc3c258ad1a8439fea8115a" name="aa5606617edc3c258ad1a8439fea8115a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5606617edc3c258ad1a8439fea8115a">&#9670;&nbsp;</a></span>bytesAvailable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Size Cicada::ICommDevice::bytesAvailable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Number of bytes available for reading. </p><dl class="section return"><dt>Returns</dt><dd>Number of bytes available for reading </dd></dl>

<p>Implemented in <a class="el" href="classCicada_1_1IPCommDevice.html#a9a248ce1120ce3f8c9145b7a09e8391d">Cicada::IPCommDevice</a>, and <a class="el" href="classCicada_1_1BufferedSerial.html#ab0e63ad0a1c56551cf1601559e42c67a">Cicada::BufferedSerial</a>.</p>

</div>
</div>
<a id="a50bb98a0576b9defed76306a5d4bb043" name="a50bb98a0576b9defed76306a5d4bb043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50bb98a0576b9defed76306a5d4bb043">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Size Cicada::ICommDevice::read </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>maxSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Reads data from the device. This method is non-blocking and only copies data already in the receive buffer. If no data is currently available, the method does not copy anything and will return 0. Filling up the read buffer is done in an interrupt or the device driver's run() function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Buffer to store data. Must be large enough to store maxSize bytes. </td></tr>
    <tr><td class="paramname">maxSize</td><td>Maximum number of bytes to store into data. The actual number of bytes stored can be smaller than maxSize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes actually copied to data </dd></dl>

<p>Implemented in <a class="el" href="classCicada_1_1IPCommDevice.html#add66581fc6e18accc2d85ab3106bbdda">Cicada::IPCommDevice</a>, <a class="el" href="classCicada_1_1IBufferedSerial.html#a656e59d290291a689daf94b900075406">Cicada::IBufferedSerial</a>, and <a class="el" href="classCicada_1_1BufferedSerial.html#ac19d7baa5c1e1a2e8e2ea3db29b75dfa">Cicada::BufferedSerial</a>.</p>

</div>
</div>
<a id="ae32e9c62d2561e1c87183bbcf4ee67c3" name="ae32e9c62d2561e1c87183bbcf4ee67c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae32e9c62d2561e1c87183bbcf4ee67c3">&#9670;&nbsp;</a></span>spaceAvailable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Size Cicada::ICommDevice::spaceAvailable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Number of bytes which can be written immediately, with out blocking. This is usually the size of space available in ther underlying buffer. </p><dl class="section return"><dt>Returns</dt><dd>Number of bytes available for writing </dd></dl>

<p>Implemented in <a class="el" href="classCicada_1_1IPCommDevice.html#af3989d19483fc2e6b19173d28c87d5b3">Cicada::IPCommDevice</a>, and <a class="el" href="classCicada_1_1BufferedSerial.html#a4d0673e929a412718ec2178c86af662c">Cicada::BufferedSerial</a>.</p>

</div>
</div>
<a id="aebc211ed649d7eb0c6787f89722fdcd6" name="aebc211ed649d7eb0c6787f89722fdcd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc211ed649d7eb0c6787f89722fdcd6">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Size Cicada::ICommDevice::write </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Writes data to the device. This method is non-blocking and only copies data to the internal send buffer. The data will be transmitted later from the modem driver's run() function. If there is not enough space in the send buffer, this function will copy only as many data as it has space available, and returns the number of bytes acutally copied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Buffer with data written to the device </td></tr>
    <tr><td class="paramname">size</td><td>Number of bytes to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Actual number of bytes copied into the transmit buffer. </dd></dl>

<p>Implemented in <a class="el" href="classCicada_1_1IPCommDevice.html#a20f4a631fdd1e21306937d802097dfdf">Cicada::IPCommDevice</a>, <a class="el" href="classCicada_1_1BufferedSerial.html#acdc83cad4165c4b1dca1c7b2b30b60a3">Cicada::BufferedSerial</a>, and <a class="el" href="classCicada_1_1IBufferedSerial.html#a1e6a2f6b8f7653db3d16781146e5295e">Cicada::IBufferedSerial</a>.</p>

</div>
</div>
<a id="a808757140f407c1214e510ff86230290" name="a808757140f407c1214e510ff86230290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a808757140f407c1214e510ff86230290">&#9670;&nbsp;</a></span>writeBufferProcessed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Cicada::ICommDevice::writeBufferProcessed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Check if all data in the write buffer already have been processed, for example transmitted on the wire on a UART. This may be used after <a class="el" href="classCicada_1_1ICommDevice.html#aebc211ed649d7eb0c6787f89722fdcd6">write()</a>, which only copies data into the write buffer, to verify the data actually have been sent to the peer.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the write buffer is empty and all data has been sent to the device. </dd></dl>

<p>Implemented in <a class="el" href="classCicada_1_1IPCommDevice.html#a7f6873ffb11c861691f0b51ab9368ba5">Cicada::IPCommDevice</a>, <a class="el" href="classCicada_1_1UnixSerial.html#a0d82e0af4be6b4ad120150cdd8439ad9">Cicada::UnixSerial</a>, <a class="el" href="classCicada_1_1MbedSerial.html#a294c8b3f5e3e780ef13dfa0414f89a9e">Cicada::MbedSerial</a>, and <a class="el" href="classCicada_1_1Stm32Uart.html#ac2b38bb266feb238c5a47c1108ebb6ac">Cicada::Stm32Uart</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cicada/<a class="el" href="icommdevice_8h_source.html">icommdevice.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
